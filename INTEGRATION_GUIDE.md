# üìã –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Ñ–æ—Ä–º—ã –≤ WordPress —á–µ—Ä–µ–∑ Oxygen Builder

> **Hydroforce - –û–ø—Ä–æ—Å–Ω—ã–π –ª–∏—Å—Ç –Ω–∞ –≥–∏–¥—Ä–æ—Ü–∏–ª–∏–Ω–¥—Ä**
> –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å WordPress AJAX, Custom Post Type –∏ email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏

---

## üì¶ –ß—Ç–æ –≤–∫–ª—é—á–µ–Ω–æ –≤ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é

‚úÖ **PHP Backend** (`functions-hydraulic-form.php`)
- Custom Post Type –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞—è–≤–æ–∫ –≤ WordPress
- AJAX –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –ø—Ä–∏–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º—ã
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ email –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É
- –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç—É
- –ó–∞—â–∏—Ç–∞ CSRF —á–µ—Ä–µ–∑ WordPress nonce
- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞—è–≤–∫–∞–º–∏

‚úÖ **HTML/JS Frontend** (`Form_hc.html`)
- –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å—Ç–∏–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Ñ–æ—Ä–º–∞ (Hydroforce brand)
- WordPress AJAX –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ —É—Å–ø–µ—à–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
- –†–µ–∂–∏–º –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ (—Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ WordPress –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

---

## üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ

### –®–∞–≥ 1: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ PHP –∫–æ–¥–∞ –≤ WordPress

–ï—Å—Ç—å **2 —Å–ø–æ—Å–æ–±–∞** –¥–æ–±–∞–≤–∏—Ç—å PHP –∫–æ–¥:

#### **–í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ functions.php —Ç–µ–º—ã (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `functions-hydraulic-form.php`
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **–≤–µ—Å—å –∫–æ–¥** –∏–∑ —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ WordPress Admin ‚Üí **Appearance ‚Üí Theme File Editor**
4. –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª `functions.php` –≤–∞—à–µ–π —Ç–µ–º—ã (–∏–ª–∏ child theme)
5. –í—Å—Ç–∞–≤—å—Ç–µ –∫–æ–¥ **–≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞** (–ø–æ—Å–ª–µ –≤—Å–µ–≥–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞)
6. –ù–∞–∂–º–∏—Ç–µ **Update File**

#### **–í–∞—Ä–∏–∞–Ω—Ç B: –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–≥–∏–Ω–∞ (–ë–æ–ª–µ–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ)**

1. –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É `hydroforce-forms` –≤ `/wp-content/plugins/`
2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `hydroforce-forms.php` –≤ —ç—Ç–æ–π –ø–∞–ø–∫–µ
3. –î–æ–±–∞–≤—å—Ç–µ –≤ –Ω–∞—á–∞–ª–æ —Ñ–∞–π–ª–∞:

```php
<?php
/**
 * Plugin Name: Hydroforce Forms
 * Description: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–ø—Ä–æ—Å–Ω–æ–≥–æ –ª–∏—Å—Ç–∞ –Ω–∞ –≥–∏–¥—Ä–æ—Ü–∏–ª–∏–Ω–¥—Ä
 * Version: 1.0
 * Author: Hydroforce Team
 */

// –í–µ—Å—å –∫–æ–¥ –∏–∑ functions-hydraulic-form.php –≤—Å—Ç–∞–≤–∏—Ç—å –∑–¥–µ—Å—å
```

4. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Plugins** –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –ø–ª–∞–≥–∏–Ω "Hydroforce Forms"

---

### –®–∞–≥ 2: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ñ–æ—Ä–º—ã –≤ Oxygen Builder

#### 2.1 –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ Oxygen

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É: **Pages ‚Üí Add New**
2. –ù–∞–∑–æ–≤–∏—Ç–µ –µ—ë, –Ω–∞–ø—Ä–∏–º–µ—Ä: "–û–ø—Ä–æ—Å–Ω—ã–π –ª–∏—Å—Ç - –ì–∏–¥—Ä–æ—Ü–∏–ª–∏–Ω–¥—Ä"
3. –ù–∞–∂–º–∏—Ç–µ **Edit with Oxygen**

#### 2.2 –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Code Block

1. –í Oxygen Builder –Ω–∞–π–¥–∏—Ç–µ —ç–ª–µ–º–µ–Ω—Ç **Code Block**
2. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –µ–≥–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
3. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Code Block:
   - –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ –≤–∫–ª–∞–¥–∫—É **HTML**
   - –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `Form_hc.html`
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **–í–ï–°–¨ –ö–û–î** –Ω–∞—á–∏–Ω–∞—è —Å `<style>` –∏ –¥–æ –∫–æ–Ω—Ü–∞ `</script>`
   - –í—Å—Ç–∞–≤—å—Ç–µ –≤ Code Block

#### 2.3 –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

‚ö†Ô∏è **–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏:**
- –ë–ª–æ–∫ `<style>...</style>` —Å–æ –≤—Å–µ–º–∏ —Å—Ç–∏–ª—è–º–∏
- –í–µ—Å—å HTML —Ñ–æ—Ä–º—ã
- –ë–ª–æ–∫ `<script>...</script>` —Å JavaScript –ª–æ–≥–∏–∫–æ–π

‚úÖ **–ü–æ—Å–ª–µ –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
- –û–ø—Ä–µ–¥–µ–ª–∏—Ç —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ WordPress (–ø—Ä–æ–≤–µ—Ä–∫–∞ `hydroforce_ajax`)
- –ü–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∫ AJAX –æ–±—Ä–∞–±–æ—Ç—á–∏–∫—É
- –ë—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

---

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Email

#### 3.1 –ë–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ WordPress Admin
2. –û—Ç–∫—Ä–æ–π—Ç–µ **–ó–∞—è–≤–∫–∏ HC ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏**
3. –£–∫–∞–∂–∏—Ç–µ email –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞—è–≤–æ–∫ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é - admin email)
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

#### 3.2 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è email (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ email —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–ª–∞–≥–∏–Ω **WP Mail SMTP**:

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–ª–∞–≥–∏–Ω: **Plugins ‚Üí Add New ‚Üí WP Mail SMTP**
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SMTP –≤–∞—à–µ–≥–æ –ø–æ—á—Ç–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–∏—Å—å–º–æ

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–ª–∞–≥–∏–Ω **Post SMTP** –∏–ª–∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é PHP —Ñ—É–Ω–∫—Ü–∏—é `mail()`

---

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

#### 4.1 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º—ã

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å —Ñ–æ—Ä–º–æ–π –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ **–≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è** (–ø–æ–º–µ—á–µ–Ω—ã –∑–≤–µ–∑–¥–æ—á–∫–æ–π *)
3. –ù–∞–∂–º–∏—Ç–µ **"–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É"**

**–ß—Ç–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏:**
- ‚úÖ –ü–æ—è–≤–∏—Ç—Å—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ (—Å–∏–Ω–∏–π —ç–∫—Ä–∞–Ω —Å —Å–ø–∏–Ω–Ω–µ—Ä–æ–º)
- ‚úÖ –ß–µ—Ä–µ–∑ 1-3 —Å–µ–∫—É–Ω–¥—ã –ø–æ—è–≤–∏—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ (—Å–∏–Ω–∏–π –±–ª–æ–∫)
- ‚úÖ –§–æ—Ä–º–∞ –æ—á–∏—Å—Ç–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥

#### 4.2 –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –∞–¥–º–∏–Ω–∫–µ

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **WordPress Admin ‚Üí –ó–∞—è–≤–∫–∏ HC**
2. –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –Ω–æ–≤—É—é –∑–∞—è–≤–∫—É –≤ —Å–ø–∏—Å–∫–µ
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∑–∞—è–≤–∫—É —á—Ç–æ–±—ã –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ

#### 4.3 –ü—Ä–æ–≤–µ—Ä–∫–∞ email

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—á—Ç—É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (—É–∫–∞–∑–∞–Ω–Ω—É—é –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö)
2. –î–æ–ª–∂–Ω–æ –ø—Ä–∏–π—Ç–∏ –ø–∏—Å—å–º–æ —Å —Ç–µ–º–æ–π: **"–ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ –Ω–∞ –≥–∏–¥—Ä–æ—Ü–∏–ª–∏–Ω–¥—Ä - [–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏]"**
3. –ö–ª–∏–µ–Ω—Ç —Ç–∞–∫–∂–µ –¥–æ–ª–∂–µ–Ω –ø–æ–ª—É—á–∏—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π email

---

## üõ† –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤ WordPress

### Custom Post Type

**–ù–∞–∑–≤–∞–Ω–∏–µ:** `hydraulic_request`
**–ò–∫–æ–Ω–∫–∞ –≤ –∞–¥–º–∏–Ω–∫–µ:** Clipboard (üìã)

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è:**
- `post_title` - –ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏ + –¥–∞—Ç–∞
- `post_content` - –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∑–∞—è–≤–∫–∏
- Meta –ø–æ–ª—è –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞:
  - `_company` - –ö–æ–º–ø–∞–Ω–∏—è
  - `_contact_person` - –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ
  - `_email` - Email
  - `_phone` - –¢–µ–ª–µ—Ñ–æ–Ω
  - `_cylinder_type` - –¢–∏–ø —Ü–∏–ª–∏–Ω–¥—Ä–∞
  - `_working_pressure` - –†–∞–±–æ—á–µ–µ –¥–∞–≤–ª–µ–Ω–∏–µ
  - `_stroke` - –•–æ–¥ –ø–æ—Ä—à–Ω—è
  - `_bore` - –î–∏–∞–º–µ—Ç—Ä –ø–æ—Ä—à–Ω—è
  - `_full_form_data` - –ü–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ JSON

### AJAX Endpoint

**Action:** `submit_hydraulic_form`
**URL:** `/wp-admin/admin-ajax.php`
**Method:** POST

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `action` = "submit_hydraulic_form"
- `security` = WordPress nonce
- `form_data` = JSON —Å –¥–∞–Ω–Ω—ã–º–∏ —Ñ–æ—Ä–º—ã

**–û—Ç–≤–µ—Ç –ø—Ä–∏ —É—Å–ø–µ—Ö–µ:**
```json
{
  "success": true,
  "data": {
    "message": "–°–ø–∞—Å–∏–±–æ! –í–∞—à–∞ –∑–∞—è–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞...",
    "post_id": 123,
    "admin_email": true,
    "client_email": true
  }
}
```

**–û—Ç–≤–µ—Ç –ø—Ä–∏ –æ—à–∏–±–∫–µ:**
```json
{
  "success": false,
  "data": {
    "message": "–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏"
  }
}
```

---

## üé® –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤ email

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `hydroforce_format_admin_email()` –≤ —Ñ–∞–π–ª–µ PHP:

```php
// –ù–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫–∏ —Å —Ü–≤–µ—Ç–∞–º–∏
background: linear-gradient(135deg, #01577d 0%, #0a6a94 100%); // –ó–∞–≥–æ–ª–æ–≤–æ–∫
color: #01577d; // –ê–∫—Ü–µ–Ω—Ç–Ω—ã–π —Ü–≤–µ—Ç
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `hydroforce_send_client_confirmation()`:

```php
$message = '
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <style>
        /* –í–∞—à–∏ —Å—Ç–∏–ª–∏ */
    </style>
</head>
<body>
    <!-- –í–∞—à HTML —Ç–µ–∫—Å—Ç –ø–∏—Å—å–º–∞ -->
</body>
</html>
';
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π

1. –î–æ–±–∞–≤—å—Ç–µ –ø–æ–ª–µ –≤ HTML —Ñ–æ—Ä–º—É (`Form_hc.html`)
2. –î–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–µ—Ä—É—Ç—Å—è JavaScript'–æ–º
3. –í PHP –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ –¥–æ–±–∞–≤—å—Ç–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ `update_post_meta()`:

```php
if (!empty($data['new_field'])) {
    update_post_meta($post_id, '_new_field', sanitize_text_field($data['new_field']));
}
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–ª—É—á–∞—Ç–µ–ª—è email

**–°–ø–æ—Å–æ–± 1:** –ß–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
- **–ó–∞—è–≤–∫–∏ HC ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí Email –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞—è–≤–æ–∫**

**–°–ø–æ—Å–æ–± 2:** –í –∫–æ–¥–µ PHP (—Ñ—É–Ω–∫—Ü–∏—è `hydroforce_send_admin_notification`)
```php
$to = 'custom@email.com'; // –ó–∞–º–µ–Ω–∏—Ç–µ email
```

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ä—ã –∑–∞—â–∏—Ç—ã

‚úÖ **WordPress Nonce** - –∑–∞—â–∏—Ç–∞ –æ—Ç CSRF –∞—Ç–∞–∫
‚úÖ **Sanitization** - –æ—á–∏—Å—Ç–∫–∞ –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
‚úÖ **Email validation** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ email
‚úÖ **Required fields** - –≤–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
‚úÖ **SQL injection protection** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ WordPress API

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ä—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

#### –î–æ–±–∞–≤–∏—Ç—å Google reCAPTCHA v3

1. –ü–æ–ª—É—á–∏—Ç–µ –∫–ª—é—á–∏ –Ω–∞ https://www.google.com/recaptcha/admin
2. –î–æ–±–∞–≤—å—Ç–µ –≤ HTML –ø–µ—Ä–µ–¥ `</form>`:

```html
<script src="https://www.google.com/recaptcha/api.js?render=YOUR_SITE_KEY"></script>
```

3. –í JavaScript –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π:

```javascript
grecaptcha.ready(function() {
    grecaptcha.execute('YOUR_SITE_KEY', {action: 'submit'})
    .then(function(token) {
        formDataToSend.append('recaptcha_token', token);
        // –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã
    });
});
```

4. –í PHP –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ –¥–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É:

```php
$recaptcha_token = $_POST['recaptcha_token'];
$recaptcha_secret = 'YOUR_SECRET_KEY';

$verify = file_get_contents('https://www.google.com/recaptcha/api/siteverify?secret=' . $recaptcha_secret . '&response=' . $recaptcha_token);
$captcha_success = json_decode($verify);

if (!$captcha_success->success || $captcha_success->score < 0.5) {
    wp_send_json_error(array('message' => 'reCAPTCHA –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ –ø—Ä–æ–π–¥–µ–Ω–∞'));
}
```

---

## üìß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Email —à–∞–±–ª–æ–Ω–æ–≤

### Email –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É

**–í–∫–ª—é—á–∞–µ—Ç:**
- –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞
- –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- –ö–Ω–æ–ø–∫–∞ "–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–ª–Ω—É—é –∑–∞—è–≤–∫—É" ‚Üí –≤–µ–¥–µ—Ç –≤ –∞–¥–º–∏–Ω–∫—É
- –°—Å—ã–ª–∫–∞ Reply-To –Ω–∞ email –∫–ª–∏–µ–Ω—Ç–∞

**–ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è:** –§—É–Ω–∫—Ü–∏—è `hydroforce_format_admin_email()`

### Email –∫–ª–∏–µ–Ω—Ç—É (–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ)

**–í–∫–ª—é—á–∞–µ—Ç:**
- –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ —Å –∏–º–µ–Ω–µ–º
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞—è–≤–∫–∏
- –ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ Hydroforce
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–∞–ª—å–Ω–µ–π—à–∏—Ö —à–∞–≥–∞—Ö

**–ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è:** –§—É–Ω–∫—Ü–∏—è `hydroforce_send_client_confirmation()`

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –ù–µ –∑–∞–±—É–¥—å—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ email –∫–ª–∏–µ–Ω—Ç–∞:
- Email: `info@hydroforce.ee`
- –¢–µ–ª–µ—Ñ–æ–Ω: –£–∫–∞–∂–∏—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω
- –°–∞–π—Ç: `https://www.hydroforce.ee`

---

## üêõ Troubleshooting (–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º)

### –ü—Ä–æ–±–ª–µ–º–∞: –§–æ—Ä–º–∞ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12 ‚Üí Console)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ JavaScript
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `hydroforce_ajax` –æ–ø—Ä–µ–¥–µ–ª–µ–Ω (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∫–æ–Ω—Å–æ–ª–∏)

### –ü—Ä–æ–±–ª–µ–º–∞: Email –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç

**–†–µ—à–µ–Ω–∏–µ:**
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–ª–∞–≥–∏–Ω **Check Email** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞–ø–∫—É "–°–ø–∞–º"
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ SMTP –ø–ª–∞–≥–∏–Ω (WP Mail SMTP –∏–ª–∏ Post SMTP)
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ö–æ—Å—Ç–∏–Ω–≥–∞ (–≤–æ–∑–º–æ–∂–Ω–æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ `mail()`)

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ "Nonce verification failed"

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞ –∏ WordPress
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø–ª–∞–≥–∏–Ω –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ –∫–µ—à–∏—Ä—É–µ—Ç nonce
3. –ò—Å–∫–ª—é—á–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å —Ñ–æ—Ä–º–æ–π –∏–∑ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞: –î–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –∞–¥–º–∏–Ω–∫–µ

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Custom Post Type –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω:
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings ‚Üí Permalinks** –∏ –Ω–∞–∂–º–∏—Ç–µ "Save"
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ PHP –æ—à–∏–±–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: 500 Internal Server Error

**–†–µ—à–µ–Ω–∏–µ:**
1. –í–∫–ª—é—á–∏—Ç–µ debug –≤ `wp-config.php`:
```php
define('WP_DEBUG', true);
define('WP_DEBUG_LOG', true);
define('WP_DEBUG_DISPLAY', false);
```
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª `/wp-content/debug.log`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å PHP –∫–æ–¥–∞ (–≤–æ–∑–º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—â–µ–Ω–∞ —Å–∫–æ–±–∫–∞ –∏–ª–∏ —Ç–æ—á–∫–∞ —Å –∑–∞–ø—è—Ç–æ–π)

---

## üìä –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞—è–≤–æ–∫ –≤ –∞–¥–º–∏–Ω–∫–µ

### –°–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫

–ü–µ—Ä–µ–π–¥–∏—Ç–µ: **WordPress Admin ‚Üí –ó–∞—è–≤–∫–∏ HC**

**–ö–æ–ª–æ–Ω–∫–∏:**
- –ö–æ–º–ø–∞–Ω–∏—è (–Ω–∞–∑–≤–∞–Ω–∏–µ)
- –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ
- Email (–∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–π –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–∏—Å—å–º–∞)
- –¢–µ–ª–µ—Ñ–æ–Ω
- –¢–∏–ø —Ü–∏–ª–∏–Ω–¥—Ä–∞
- –î–∞—Ç–∞ –∑–∞—è–≤–∫–∏

**–î–µ–π—Å—Ç–≤–∏—è:**
- **View** - –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–ª–Ω–æ–π –∑–∞—è–≤–∫–∏
- **Edit** - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Trash** - –£–¥–∞–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É

### –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç–¥–µ–ª—å–Ω–æ–π –∑–∞—è–≤–∫–∏

–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞:

**–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è:**
- –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –∑–∞—è–≤–∫–∏ (–æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π HTML)
- –í—Å–µ meta –ø–æ–ª—è –≤ –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏
- –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –ø–æ–¥–∞—á–∏ –∑–∞—è–≤–∫–∏

---

## üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CRM (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### Webhook –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ CRM

–î–æ–±–∞–≤—å—Ç–µ –≤ –∫–æ–Ω–µ—Ü —Ñ—É–Ω–∫—Ü–∏–∏ `hydroforce_handle_hydraulic_form_submission()`:

```php
// –û—Ç–ø—Ä–∞–≤–∫–∞ webhook –≤ CRM
$webhook_url = 'https://your-crm.com/webhook/endpoint';

$webhook_data = array(
    'company' => $form_data['company'],
    'contact_person' => $form_data['contact_person'],
    'email' => $form_data['email'],
    'phone' => $form_data['phone'],
    'technical_params' => array(
        'pressure' => $form_data['working_pressure'],
        'stroke' => $form_data['stroke'],
        'bore' => $form_data['bore'],
    ),
    'wordpress_post_id' => $post_id
);

wp_remote_post($webhook_url, array(
    'headers' => array('Content-Type' => 'application/json'),
    'body' => json_encode($webhook_data),
    'timeout' => 15
));
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–æ–ø—É–ª—è—Ä–Ω—ã–º–∏ CRM

**Bitrix24:**
```php
$bitrix_webhook = 'https://your-domain.bitrix24.com/rest/1/xxx/crm.lead.add.json';
```

**AmoCRM:**
```php
$amo_api = 'https://your-domain.amocrm.ru/api/v4/leads';
```

**HubSpot:**
```php
$hubspot_api = 'https://api.hubapi.com/crm/v3/objects/contacts';
```

---

## üì± –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

–§–æ—Ä–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é responsive –∏ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ–¥:

‚úÖ Desktop (1920px+)
‚úÖ Laptop (1366px - 1920px)
‚úÖ Tablet (768px - 1024px)
‚úÖ Mobile (320px - 767px)

**Breakpoints:**
- **768px** - –ø–µ—Ä–µ—Ö–æ–¥ –≤ –º–æ–±–∏–ª—å–Ω—ã–π —Ä–µ–∂–∏–º
- **480px** - —É–º–µ–Ω—å—à–µ–Ω–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –≤ –ø—Ä–æ–¥–∞–∫—à–Ω —É–±–µ–¥–∏—Ç–µ—Å—å:

- [ ] PHP –∫–æ–¥ –¥–æ–±–∞–≤–ª–µ–Ω –≤ functions.php –∏–ª–∏ –∫–∞–∫ –ø–ª–∞–≥–∏–Ω
- [ ] –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ Oxygen Code Block
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω email –ø–æ–ª—É—á–∞—Ç–µ–ª—è –≤ –∞–¥–º–∏–Ω–∫–µ
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã (—É—Å–ø–µ—à–Ω–∞—è)
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –∞–¥–º–∏–Ω–∫–µ WordPress
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ email –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ email –∫–ª–∏–µ–Ω—Ç—É
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω—ã –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –ø–∏—Å—å–º–µ –∫–ª–∏–µ–Ω—Ç—É
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- [ ] –û—á–∏—â–µ–Ω –∫–µ—à WordPress –∏ –±—Ä–∞—É–∑–µ—Ä–∞
- [ ] –ò—Å–∫–ª—é—á–µ–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∏–∑ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–µ—à)

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ —à–∞–≥–∏ –≤ —ç—Ç–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
2. –ò–∑—É—á–∏—Ç–µ —Ä–∞–∑–¥–µ–ª Troubleshooting
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –Ω–∞ –æ—à–∏–±–∫–∏ JavaScript
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ debug.log WordPress –Ω–∞ –æ—à–∏–±–∫–∏ PHP
5. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤–µ—Ä—Å–∏–∏ WordPress –∏ PHP –∞–∫—Ç—É–∞–ª—å–Ω—ã

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –≤–∞—à–∞ —Ñ–æ—Ä–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Å WordPress –∏ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–∏–µ–º—É –∑–∞—è–≤–æ–∫!

**–ß—Ç–æ –¥–∞–ª—å—à–µ:**
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ CRM (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –î–æ–±–∞–≤—å—Ç–µ Google Analytics –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç–≤–µ—Ç—ã –∫–ª–∏–µ–Ω—Ç–∞–º
- –°–æ–∑–¥–∞–π—Ç–µ —Å–∏—Å—Ç–µ–º—É —Å—Ç–∞—Ç—É—Å–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞—è–≤–æ–∫
